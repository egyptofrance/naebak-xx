# ูุธุงู ุฅุฏุงุฑุฉ ูุญุชูู ุงูููุงุจ - ูุงุฌูุฉ ุงููุณุชุฎุฏู

## ุงูุชุงุฑูุฎ ูุงูููุช
21 ุฃูุชูุจุฑ 2025 - 13:22 GMT+3

## ุงูููุฎุต
ุชู ุชุทููุฑ ูุงุฌูุฉ ูุณุชุฎุฏู ูุงููุฉ ูุฅุฏุงุฑุฉ ูุญุชูู ุงูููุงุจ (ุงูุจุฑูุงูุฌ ุงูุงูุชุฎุงุจูุ ุงูุฅูุฌุงุฒุงุชุ ุงูููุงุณุจุงุช) ูุน ุฅููุงููุฉ ุฅุถุงูุฉ ุนูุงุตุฑ ูุชุนุฏุฏุฉ ููู ูุณูุ ุญูุซ ูุญุชูู ูู ุนูุตุฑ ุนูู ุนููุงู ููุตู ูุตูุฑุฉ.

## ุงููููุงุช ุงููุถุงูุฉ/ุงููุนุฏูุฉ

### 1. DeputyContentItemManager.tsx (ุฌุฏูุฏ)
**ุงููุณุงุฑ**: `src/app/[locale]/(dynamic-pages)/(authenticated-pages)/app_admin/(admin-pages)/deputies/DeputyContentItemManager.tsx`

**ุงููุธููุฉ**: ูููู ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูุฅุฏุงุฑุฉ ูุงุฆูุฉ ูู ุงูุนูุงุตุฑ ุงูููุธูุฉ.

**ุงููููุฒุงุช**:
- โ ุฅุถุงูุฉ ุนูุงุตุฑ ุฌุฏูุฏุฉ ุจุฒุฑ "ุฅุถุงูุฉ"
- โ ุญุฐู ุฃู ุนูุตุฑ ุจุฒุฑ ุงูุญุฐู
- โ ูู ุนูุตุฑ ูุญุชูู ุนูู:
  - ุนููุงู (ูุทููุจ)
  - ูุตู (ุงุฎุชูุงุฑู)
  - ุฑุงุจุท ุตูุฑุฉ (ุงุฎุชูุงุฑู)
- โ ูุนุงููุฉ ุงูุตูุฑุฉ ุจุฌุงูุจ ุญูู ุงูุฅุฏุฎุงู
- โ ุฃููููุฉ placeholder ุนูุฏ ุนุฏู ูุฌูุฏ ุตูุฑุฉ
- โ ุชุฑุชูุจ ุชููุงุฆู ููุนูุงุตุฑ (display_order)
- โ ุฑุณุงูุฉ ุชูุถูุญูุฉ ุนูุฏ ุนุฏู ูุฌูุฏ ุนูุงุตุฑ

**ุงูุฎุตุงุฆุต (Props)**:
```typescript
type DeputyContentItemManagerProps = {
  title: string;                    // ุนููุงู ุงููุณู
  items: ContentItem[];             // ูุงุฆูุฉ ุงูุนูุงุตุฑ
  onChange: (items: ContentItem[]) => void;  // ุฏุงูุฉ ุงูุชุญุฏูุซ
  placeholder?: {                   // ูุตูุต ุชูุถูุญูุฉ
    title?: string;
    description?: string;
    image?: string;
  };
};
```

### 2. EditDeputyDialog.tsx (ูุนุฏู)
**ุงููุณุงุฑ**: `src/app/[locale]/(dynamic-pages)/(authenticated-pages)/app_admin/(admin-pages)/deputies/EditDeputyDialog.tsx`

**ุงูุชุญุฏูุซุงุช ุงูุฑุฆูุณูุฉ**:

#### ุฃ. ุฅุถุงูุฉ ูุธุงู ุงูุชุจููุจุงุช (Tabs)
ุชู ุชูุณูู ุงููุงูุฐุฉ ุฅูู ุชุจููุจูู:

1. **ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ**:
   - ุงูุญููู ุงูููุฌูุฏุฉ ุณุงุจูุงู (ููุชูุงูู ูุน ุงููุธุงู ุงููุฏูู)
   - ุงูุญุงูุฉุ ุงููุฌูุณุ ุงูุฑูุฒ ุงูุงูุชุฎุงุจูุ ุงูุฑูู ุงูุงูุชุฎุงุจู
   - ุญููู ูุตูุฉ ุจุณูุทุฉ ููุจุฑูุงูุฌ ุงูุงูุชุฎุงุจู ูุงูุฅูุฌุงุฒุงุช ูุงูููุงุณุจุงุช

2. **ุงููุญุชูู ุงูุชูุตููู** (ุฌุฏูุฏ):
   - ุงูุจุฑูุงูุฌ ุงูุงูุชุฎุงุจู (ุนูุงุตุฑ ูุชุนุฏุฏุฉ)
   - ุงูุฅูุฌุงุฒุงุช (ุนูุงุตุฑ ูุชุนุฏุฏุฉ)
   - ุงูููุงุณุจุงุช (ุนูุงุตุฑ ูุชุนุฏุฏุฉ)

#### ุจ. ุฅุถุงูุฉ States ุฌุฏูุฏุฉ
```typescript
const [electoralProgramItems, setElectoralProgramItems] = useState<ContentItem[]>([]);
const [achievementItems, setAchievementItems] = useState<ContentItem[]>([]);
const [eventItems, setEventItems] = useState<ContentItem[]>([]);
```

#### ุฌ. ุชุญุฏูุซ ููุทู ุงูุญูุธ
ุนูุฏ ูุฌุงุญ ุญูุธ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉุ ูุชู ุญูุธ ุงูุนูุงุตุฑ ุงูุฌุฏูุฏุฉ:
```typescript
onSuccess: async ({ data }) => {
  // ุญูุธ ุงูุจุฑุงูุฌ ุงูุงูุชุฎุงุจูุฉ
  for (const item of electoralProgramItems) {
    if (!item.id && item.title.trim()) {
      await createElectoralProgramAction({...});
    }
  }
  // ุญูุธ ุงูุฅูุฌุงุฒุงุช
  // ุญูุธ ุงูููุงุณุจุงุช
}
```

#### ุฏ. ุชุญุณููุงุช UI
- ุฑุณุงูุฉ ุชูุถูุญูุฉ ูู ุชุจููุจ "ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ" ุชุดุฌุน ุนูู ุงุณุชุฎุฏุงู "ุงููุญุชูู ุงูุชูุตููู"
- ุฑุณุงูุฉ ูุนูููุงุชูุฉ ูู ุชุจููุจ "ุงููุญุชูู ุงูุชูุตููู" ุชุดุฑุญ ุงููุธููุฉ
- ุฒูุงุฏุฉ ุนุฑุถ ุงููุงูุฐุฉ ุฅูู 900px ูุงุณุชูุนุงุจ ุงููุญุชูู ุงูุฌุฏูุฏ

## ุงููุธุงุฆู ุงููุณุชุฎุฏูุฉ

### Server Actions
ุชู ุงุณุชุฎุฏุงู ุงูู Server Actions ุงูุชุงููุฉ ูู `deputy-content.tsx`:
- `createElectoralProgramAction` - ุฅูุดุงุก ุจูุฏ ุจุฑูุงูุฌ ุงูุชุฎุงุจู
- `createAchievementAction` - ุฅูุดุงุก ุฅูุฌุงุฒ
- `createEventAction` - ุฅูุดุงุก ููุงุณุจุฉ

### UI Components
- `Tabs`, `TabsList`, `TabsTrigger`, `TabsContent` - ูุธุงู ุงูุชุจููุจุงุช
- `Separator` - ูุงุตู ุจุตุฑู ุจูู ุงูุฃูุณุงู
- `Button`, `Input`, `Textarea`, `Label` - ุนูุงุตุฑ ุงููููุฐุฌ ุงูุฃุณุงุณูุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุคูู (Admin):

1. **ูุชุญ ูุงูุฐุฉ ุชุนุฏูู ุงููุงุฆุจ**:
   - ุงุฐูุจ ุฅูู ุตูุญุฉ ุงูููุงุจ
   - ุงุถุบุท ุนูู ุฃููููุฉ ุงูุชุนุฏูู ุจุฌุงูุจ ุฃู ูุงุฆุจ

2. **ุงุณุชุฎุฏุงู ุงูุชุจููุจุงุช**:
   - **ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ**: ููุญููู ุงูุจุณูุทุฉ ูุงูุณุฑูุนุฉ
   - **ุงููุญุชูู ุงูุชูุตููู**: ูุฅุถุงูุฉ ุนูุงุตุฑ ููุธูุฉ ุจุตูุฑ

3. **ุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ**:
   - ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ" ูู ุงููุณู ุงููุทููุจ
   - ุงููุฃ ุงูุนููุงู (ูุทููุจ)
   - ุงููุฃ ุงููุตู (ุงุฎุชูุงุฑู)
   - ุฃุถู ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)
   - ุณุชุธูุฑ ูุนุงููุฉ ุงูุตูุฑุฉ ุชููุงุฆูุงู

4. **ุญุฐู ุนูุตุฑ**:
   - ุงุถุบุท ุนูู ุฃููููุฉ ุณูุฉ ุงูููููุงุช ุจุฌุงูุจ ุงูุนูุตุฑ

5. **ุญูุธ ุงูุชุบููุฑุงุช**:
   - ุงุถุบุท ุนูู "ุญูุธ ุงูุชุบููุฑุงุช"
   - ุณูุชู ุญูุธ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ ูุงูุนูุงุตุฑ ุงูุฌุฏูุฏุฉ ูุนุงู

## ุงูุญุงูุฉ ุงูุญุงููุฉ

### โ ูุง ุชู ุฅูุฌุงุฒู:
1. ุฅูุดุงุก ูููู ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ูุฅุฏุงุฑุฉ ุงูุนูุงุตุฑ
2. ุฅุถุงูุฉ ูุธุงู ุงูุชุจููุจุงุช ููุงูุฐุฉ ุงูุชุนุฏูู
3. ุฏูุฌ ุงููููู ูู ุงูุฃูุณุงู ุงูุซูุงุซุฉ (ุจุฑูุงูุฌุ ุฅูุฌุงุฒุงุชุ ููุงุณุจุงุช)
4. ุฑุจุท ุงููุธุงู ุจู Server Actions ููุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
5. ูุนุงููุฉ ุงูุตูุฑ ูู ุงูููุช ุงููุนูู
6. ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู (ุงูุญููู ุงููุตูุฉ ุงูุจุณูุทุฉ)

### ๐ ูุง ูุญุชุงุฌ ุฅูู ุชุทููุฑ ูุงุญูุงู:
1. **ุชุญููู ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ**: ุญุงููุงู ูุจุฏุฃ ุจูุงุฆูุฉ ูุงุฑุบุฉุ ูุฌุจ ุฅุถุงูุฉ:
   ```typescript
   useEffect(() => {
     if (open) {
       // ุชุญููู ุงูุนูุงุตุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
       getElectoralProgramsAction({ deputyId }).then(...)
       getAchievementsAction({ deputyId }).then(...)
       getEventsAction({ deputyId }).then(...)
     }
   }, [open, deputyId]);
   ```

2. **ุชุนุฏูู ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ**: ุญุงููุงู ูููู ููุท ุฅุถุงูุฉ ุนูุงุตุฑ ุฌุฏูุฏุฉุ ูุฌุจ ุฅุถุงูุฉ:
   - `updateElectoralProgramAction`
   - `updateAchievementAction`
   - `updateEventAction`

3. **ุญุฐู ุงูุนูุงุตุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ุญุงููุงู ุงูุญุฐู ูุญูู ููุทุ ูุฌุจ ุฅุถุงูุฉ:
   - `deleteElectoralProgramAction`
   - `deleteAchievementAction`
   - `deleteEventAction`

4. **ุฑูุน ุงูุตูุฑ**: ุญุงููุงู ูุชุทูุจ ุฑุงุจุท ุฎุงุฑุฌูุ ูุฌุจ ุฅุถุงูุฉ:
   - ุฒุฑ "ุฑูุน ุตูุฑุฉ" ูู ูู ุนูุตุฑ
   - ุงุณุชุฎุฏุงู `uploadImageAction` ุงูููุฌูุฏ
   - ุญูุธ ุฑุงุจุท ุงูุตูุฑุฉ ุงููุฑููุนุฉ ุชููุงุฆูุงู

5. **ุฅุนุงุฏุฉ ุชุฑุชูุจ ุงูุนูุงุตุฑ**: ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุณูู ูุฃุนูู/ูุฃุณูู ูุชุบููุฑ `display_order`

6. **ุตูุฑ ุงูุชุฑุงุถูุฉ (Placeholders)**: ุนูุฏ ุนุฏู ูุฌูุฏ ุตูุฑุฉุ ุนุฑุถ ุตูุฑุฉ ุงูุชุฑุงุถูุฉ ููุงุณุจุฉ

7. **ุงูุชุญูู ูู ุงูุตุญุฉ (Validation)**: ุงูุชุฃูุฏ ูู ุฃู ุงูุนููุงู ุบูุฑ ูุงุฑุบ ูุจู ุงูุญูุธ

## ูุนูููุงุช ุงููุดุฑ

### Commit
- **ID**: 402051a
- **Message**: "feat: add structured content management UI for deputy programs, achievements, and events"
- **Branch**: main

### Deployment
- **Status**: โ Ready (Current Production)
- **Deployment ID**: DxhaomwSw
- **Build Time**: 2m 11s
- **Deployed**: 3 minutes ago by egyptofrance
- **Platform**: Vercel

## ุงูุฎุทูุงุช ุงูุชุงููุฉ ุงูููุชุฑุญุฉ

### ุงููุฑุญูุฉ ุงููุงุฏูุฉ (Phase 2):
1. **ุชุญููู ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ** ุนูุฏ ูุชุญ ุงููุงูุฐุฉ
2. **ุชุนุฏูู ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ** ุจุฏูุงู ูู ุฅุถุงูุฉ ูุณุฎ ุฌุฏูุฏุฉ
3. **ุญุฐู ุงูุนูุงุตุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช** ุนูุฏ ุงูุถุบุท ุนูู ุฒุฑ ุงูุญุฐู

### ุงููุฑุญูุฉ ุงูุซุงูุซุฉ (Phase 3):
4. **ุฑูุน ุงูุตูุฑ** ูุจุงุดุฑุฉ ูู ุงูุฌูุงุฒ
5. **ุตูุฑ ุงูุชุฑุงุถูุฉ** ุนูุฏ ุนุฏู ูุฌูุฏ ุตูุฑุฉ

### ุงููุฑุญูุฉ ุงูุฑุงุจุนุฉ (Phase 4):
6. **ุฅุนุงุฏุฉ ุชุฑุชูุจ ุงูุนูุงุตุฑ** ุจุงูุณุญุจ ูุงูุฅููุงุช ุฃู ุงูุฃุณูู
7. **ุชุญุณููุงุช UX** ุฅุถุงููุฉ

## ุงูููุงุญุธุงุช ุงููููุฉ

### ุงูุชูุงูู ูุน ุงููุธุงู ุงููุฏูู
- ุชู ุงูุงุญุชูุงุธ ุจุงูุญููู ุงููุตูุฉ ุงููุฏููุฉ ูู ุชุจููุจ "ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ"
- ูุง ุชุชุนุงุฑุถ ุงูุนูุงุตุฑ ุงูุฌุฏูุฏุฉ ูุน ุงูุจูุงูุงุช ุงููุฏููุฉ
- ูููู ุงุณุชุฎุฏุงู ููุง ุงููุธุงููู ูุนุงู

### ุงูุฃุฏุงุก
- ุงูุนูุงุตุฑ ุชูุญูุธ ูุงุญุฏุงู ุชูู ุงูุขุฎุฑ (sequential)
- ูููู ุชุญุณูู ุงูุฃุฏุงุก ูุงุญูุงู ุจุงูุญูุธ ุงููุชูุงุฒู (parallel)

### ุงูุฃูุงู
- ุฌููุน ุงูุนูููุงุช ุชุณุชุฎุฏู `adminActionClient`
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช ูุชู ุนูู ูุณุชูู Server Actions

---

**Status**: โ ุชู ุงูุชุทููุฑ ูุงููุดุฑ ุจูุฌุงุญ
**Next Step**: ุชุญููู ูุชุนุฏูู ูุญุฐู ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ

