# ุชุญุณููุงุช ูุงุฆูุฉ ุงูููุงุจ - Filters & Pagination

## ๐ ููุฎุต ุงูุชุญุฏูุซุงุช

ุชู ุฅุถุงูุฉ ูุธุงู ููุชุฑุฉ ูุชูุฏู ู pagination ูุญุณูู ููุงุฆูุฉ ุงูููุงุจ ูุฏุนู ุขูุงู ุงูุณุฌูุงุช ุจููุงุกุฉ.

---

## ๐ ุงูููุงุชุฑ ุงููุชุงุญุฉ

### 1. **ุงูุจุญุซ ุงููุตู** (Search Bar)
- ุงูุจุญุซ ูู: ุงูุงุณูุ ุงูุจุฑูุฏ ุงูุฅููุชุฑูููุ ุฑูู ุงููุงุชูุ ุงูุฑูู ุงูุงูุชุฎุงุจูุ ุงูุฑูุฒ ุงูุงูุชุฎุงุจู
- ูุฏุนู ุงูุจุญุซ ุงูุฌุฒุฆู (partial match)
- ูุนูู ูุน ุฌููุน ุงูููุงุชุฑ ุงูุฃุฎุฑู

### 2. **ุงููุญุงูุธุฉ** (Governorate)
- ูุงุฆูุฉ ููุณุฏูุฉ ุจุฌููุน ุงููุญุงูุธุงุช
- ุฎูุงุฑ "ุฌููุน ุงููุญุงูุธุงุช" ููุฅูุบุงุก

### 3. **ุงูุญุฒุจ** (Party)
- ูุงุฆูุฉ ููุณุฏูุฉ ุจุฌููุน ุงูุฃุญุฒุงุจ
- ุฎูุงุฑ "ุฌููุน ุงูุฃุญุฒุงุจ" ููุฅูุบุงุก

### 4. **ุงููุฌูุณ** (Council)
- ูุงุฆูุฉ ููุณุฏูุฉ ุจุฌููุน ุงููุฌุงูุณ
- ุฎูุงุฑ "ุฌููุน ุงููุฌุงูุณ" ููุฅูุบุงุก
- ูุซุงู: ูุฌูุณ ุงูููุงุจุ ูุฌูุณ ุงูุดููุฎ

### 5. **ุญุงูุฉ ุงูุนุถููุฉ** (Deputy Status) โจ ุฌุฏูุฏ
- **ูุงุฆุจ ุญุงูู** (current) - ุนุถู ุญุงูู ูู ุงููุฌูุณ
- **ูุฑุดุญ ููุนุถููุฉ** (candidate) - ูุฑุดุญ ูู ุงูุงูุชุฎุงุจุงุช
- **ูุงุฆุจ ุณุงุจู** (former) - ุนุถู ุณุงุจู

### 6. **ุงูุฌูุณ** (Gender) โจ ุฌุฏูุฏ
- **ุฐูุฑ** (male)
- **ุฃูุซู** (female)
- **ุงููู** - ููุฅูุบุงุก

### 7. **ุงูุฏุงุฆุฑุฉ ุงูุงูุชุฎุงุจูุฉ** (Electoral District) โจ ุฌุฏูุฏ
- ุญูู ูุตู ููุจุญุซ ูู ุงุณู ุงูุฏุงุฆุฑุฉ
- ูุฏุนู ุงูุจุญุซ ุงูุฌุฒุฆู
- ูุซุงู: "ุงููุงูุฑุฉ ุงูุฃููู"ุ "ุงูุฌูุฒุฉ ุงูุซุงููุฉ"

---

## ๐ ูุธุงู Pagination ุงููุญุณูู

### ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ

#### 1. **ุฃุฑูุงู ุงูุตูุญุงุช**
```
[ุงูุฃููู] [ุงูุณุงุจู] [1] [2] [3] [4] [5] [ุงูุชุงูู] [ุงูุฃุฎูุฑุฉ]
```
- ูุนุฑุถ **5 ุฃุฑูุงู ุตูุญุงุช** ูู ูู ูุฑุฉ
- ุงูุตูุญุฉ ุงูุญุงููุฉ ูููุฒุฉ ุจููู ูุฎุชูู
- ุงูุฃุฑูุงู ุชุชูุฑูุฒ ุญูู ุงูุตูุญุฉ ุงูุญุงููุฉ

#### 2. **ุฃุฒุฑุงุฑ ุงูุชููู**
- **ุงูุฃููู** - ุงูุงูุชูุงู ููุตูุญุฉ ุงูุฃููู ูุจุงุดุฑุฉ
- **ุงูุณุงุจู** - ุงูุตูุญุฉ ุงูุณุงุจูุฉ
- **ุงูุชุงูู** - ุงูุตูุญุฉ ุงูุชุงููุฉ
- **ุงูุฃุฎูุฑุฉ** - ุงูุงูุชูุงู ููุตูุญุฉ ุงูุฃุฎูุฑุฉ ูุจุงุดุฑุฉ

#### 3. **ุนุฏุงุฏ ุงูุณุฌูุงุช**
```
ุนุฑุถ 21-40 ูู 1,234 ูุงุฆุจ
```
- ูุนุฑุถ ูุทุงู ุงูุณุฌูุงุช ุงูุญุงูู
- ูุนุฑุถ ุงูุนุฏุฏ ุงูุฅุฌูุงูู ููููุงุจ

#### 4. **ููุทู ุฐูู ูุนุฑุถ ุงูุฃุฑูุงู**

**ุนูุฏ ุงูุตูุญุงุช ุงูุฃููู** (1-3):
```
[1] [2] [3] [4] [5]
```

**ุนูุฏ ุงูุตูุญุงุช ุงููุณุทู** (ูุซูุงู ุตูุญุฉ 10):
```
[8] [9] [10] [11] [12]
```

**ุนูุฏ ุงูุตูุญุงุช ุงูุฃุฎูุฑุฉ** (ูุซูุงู ุขุฎุฑ 3 ุตูุญุงุช):
```
[96] [97] [98] [99] [100]
```

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุงูุจุญุซ ุงูุฃุณุงุณู
1. ุฃุฏุฎู ูุต ุงูุจุญุซ ูู ุดุฑูุท ุงูุจุญุซ
2. ุงุถุบุท Enter ุฃู ุฒุฑ "ุจุญุซ"
3. ุงููุชุงุฆุฌ ุชุธูุฑ ููุฑุงู

### ุงุณุชุฎุฏุงู ุงูููุงุชุฑ
1. ุงุถุบุท "ุฅุธูุงุฑ ุงูููุงุชุฑ"
2. ุงุฎุชุฑ ุงูููุงุชุฑ ุงููุทููุจุฉ
3. ุงุถุบุท "ุจุญุซ" ุฃู Enter
4. ูุฅูุบุงุก ุฌููุน ุงูููุงุชุฑ: ุงุถุบุท "ูุณุญ ุงูููุงุชุฑ"

### ุงูุชููู ุจูู ุงูุตูุญุงุช
1. ุงุณุชุฎุฏู ุงูุฃุฑูุงู ููุงูุชูุงู ูุจุงุดุฑุฉ
2. ุงุณุชุฎุฏู ุงูุณุงุจู/ุงูุชุงูู ููุชููู ุฎุทูุฉ ุจุฎุทูุฉ
3. ุงุณุชุฎุฏู ุงูุฃููู/ุงูุฃุฎูุฑุฉ ููููุฒ ููุจุฏุงูุฉ/ุงูููุงูุฉ

---

## ๐ง ุงูุชูุงุตูู ุงูุชูููุฉ

### Backend (Server Actions)

#### Schema Updates
```typescript
const searchDeputiesSchema = z.object({
  query: z.string().optional(),
  governorateId: z.string().uuid().optional(),
  partyId: z.string().uuid().optional(),
  councilId: z.string().uuid().optional(),
  deputyStatus: z.enum(["current", "candidate", "former"]).optional(), // โ Added 'former'
  gender: z.enum(["male", "female"]).optional(), // โจ New
  electoralDistrict: z.string().optional(), // โจ New
  page: z.number().optional(),
  limit: z.number().optional(),
});
```

#### Query Filters
```typescript
// Gender filter
if (gender) {
  userQuery = userQuery.eq("gender", gender);
}

// Electoral district filter
if (electoralDistrict) {
  userQuery = userQuery.ilike("electoral_district", `%${electoralDistrict}%`);
}

// Enhanced text search (includes email now)
if (query) {
  userQuery = userQuery.or(
    `full_name.ilike.*${query}*,phone.ilike.*${query}*,email.ilike.*${query}*`
  );
}
```

### Frontend (UI Components)

#### State Management
```typescript
const [selectedGender, setSelectedGender] = useState<string>("");
const [selectedDistrict, setSelectedDistrict] = useState<string>("");
```

#### Pagination Logic
```typescript
// Smart page number display
{Array.from({ length: Math.min(5, totalPages) }, (_, i) => {
  let pageNum;
  if (totalPages <= 5) {
    pageNum = i + 1;
  } else if (currentPage <= 3) {
    pageNum = i + 1;
  } else if (currentPage >= totalPages - 2) {
    pageNum = totalPages - 4 + i;
  } else {
    pageNum = currentPage - 2 + i;
  }
  return <Button>{pageNum}</Button>;
})}
```

---

## ๐ ุงูุฃุฏุงุก

### ูุจู ุงูุชุญุฏูุซ
- โ ูุง ููุฌุฏ pagination (ุชุญููู ุฌููุน ุงูุณุฌูุงุช)
- โ ููุงุชุฑ ูุญุฏูุฏุฉ
- โ ุจุทุก ูุน ุขูุงู ุงูุณุฌูุงุช

### ุจุนุฏ ุงูุชุญุฏูุซ
- โ ุชุญููู 20 ุณุฌู ููุท ูู ูู ุตูุญุฉ
- โ 7 ููุงุชุฑ ูุชูุฏูุฉ
- โ ุฃุฏุงุก ููุชุงุฒ ุญุชู ูุน ุขูุงู ุงูุณุฌูุงุช
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ

---

## ๐จ ุชุฎุทูุท ุงูููุงุชุฑ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ุงูุจุญุซ ูุงูููุชุฑุฉ                          [ุฅุธูุงุฑ ุงูููุงุชุฑ โผ] โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ [ุดุฑูุท ุงูุจุญุซ...............................] [ุจุญุซ] [ูุณุญ]  โ
โ                                                             โ
โ โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโ               โ
โ โ ุงููุญุงูุธุฉ    โ ุงูุญุฒุจ       โ ุงููุฌูุณ      โ               โ
โ โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโดโโโโโโโโโโโโโโ               โ
โ โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโ               โ
โ โ ุญุงูุฉ ุงูุนุถููุฉโ ุงูุฌูุณ       โ ุงูุฏุงุฆุฑุฉ     โ               โ
โ โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโดโโโโโโโโโโโโโโ               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู

### ุงูููุงุชุฑ
- โ ุงูุจุญุซ ุงููุตู
- โ ุงููุญุงูุธุฉ
- โ ุงูุญุฒุจ
- โ ุงููุฌูุณ
- โ ุญุงูุฉ ุงูุนุถููุฉ (current/candidate/former)
- โ ุงูุฌูุณ (male/female)
- โ ุงูุฏุงุฆุฑุฉ ุงูุงูุชุฎุงุจูุฉ

### Pagination
- โ ุฃุฑูุงู ุงูุตูุญุงุช (5 ุฃุฑูุงู)
- โ ุฒุฑ ุงูุฃููู
- โ ุฒุฑ ุงูุณุงุจู
- โ ุฒุฑ ุงูุชุงูู
- โ ุฒุฑ ุงูุฃุฎูุฑุฉ
- โ ุนุฏุงุฏ ุงูุณุฌูุงุช (X-Y ูู Z)
- โ ููุทู ุฐูู ูุนุฑุถ ุงูุฃุฑูุงู
- โ ุชุตููู responsive

### ุงููุธุงุฆู
- โ ุฌููุน ุงูููุงุชุฑ ุชุนูู ูุนุงู
- โ ุฒุฑ "ูุณุญ ุงูููุงุชุฑ" ูุนูู
- โ ุงูุจุญุซ ุจู Enter ูุนูู
- โ ุงูุชููู ุจูู ุงูุตูุญุงุช ูุนูู
- โ ุญุงูุฉ ุงูุชุญููู ุชุธูุฑ
- โ ุฑุณุงุฆู ุงูุฎุทุฃ ุชุธูุฑ

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ุงูุจุญุซ ุนู ูุงุฆุจุฉ ูู ุงููุงูุฑุฉ
```
ุงูููุงุชุฑ:
- ุงูุฌูุณ: ุฃูุซู
- ุงููุญุงูุธุฉ: ุงููุงูุฑุฉ
- ุญุงูุฉ ุงูุนุถููุฉ: ูุงุฆุจ ุญุงูู
```

### ูุซุงู 2: ุงูุจุญุซ ุนู ูุฑุดุญูู ูู ุญุฒุจ ูุนูู
```
ุงูููุงุชุฑ:
- ุงูุญุฒุจ: ุญุฒุจ ุงูููุฏ
- ุญุงูุฉ ุงูุนุถููุฉ: ูุฑุดุญ ููุนุถููุฉ
```

### ูุซุงู 3: ุงูุจุญุซ ูู ุฏุงุฆุฑุฉ ุงูุชุฎุงุจูุฉ
```
ุงูููุงุชุฑ:
- ุงูุฏุงุฆุฑุฉ ุงูุงูุชุฎุงุจูุฉ: "ุงูุฌูุฒุฉ ุงูุซุงููุฉ"
```

---

## ๐ ููุงุญุธุงุช

1. **ุงูุฃุฏุงุก**: ุงููุธุงู ูุญุณูู ูุขูุงู ุงูุณุฌูุงุช
2. **ุงูุชูุงูู**: ูุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ (responsive)
3. **ุงูุชูุณุน**: ุณูู ุฅุถุงูุฉ ููุงุชุฑ ุฌุฏูุฏุฉ ูุณุชูุจูุงู
4. **ุงูุตูุงูุฉ**: ููุฏ ูุธูู ูููุธู

---

**ุงูุชุงุฑูุฎ**: 21 ุฃูุชูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ**: 1.0.0
**ุงูุญุงูุฉ**: โ ููุชูู ูููุดูุฑ

