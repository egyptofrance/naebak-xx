# ุงุณุชุฑุงุชูุฌูุฉ ุงููุดุฑ ูุงูุงุฎุชุจุงุฑ ุนูู Vercel

## ุงููุถุน ุงูุญุงูู

### โ ุฅุนุฏุงุฏุงุช Vercel ุงูุญุงููุฉ:
- **ุงููุณุชูุฏุน ุงููุชุตู:** `egyptofrance/naebak-xx`
- **Production Branch:** `main`
- **ุงููุดุฑ ุงูุชููุงุฆู:** ููุนูู
- **Pull Request Comments:** ููุนูู
- **Production Domain:** `naebak.com`

### ๐ ููู ูุนูู ุงููุดุฑ ุญุงููุงู:
1. **ุนูุฏ Push ุฅูู `main`** โ ูุดุฑ ุชููุงุฆู ุนูู Production (naebak.com)
2. **ุนูุฏ Push ุฅูู ุฃู branch ุขุฎุฑ** โ ูุดุฑ ุชููุงุฆู ุนูู Preview URL
3. **ุนูุฏ ูุชุญ Pull Request** โ ูุดุฑ ุชููุงุฆู ุนูู Preview URL + ุชุนููู ุชููุงุฆู

---

## ๐ฏ ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุขููุฉ ููุชุทููุฑ

### ุงููุฑุญูุฉ ุงูุญุงููุฉ:
โ **ุฃูุช ุงูุขู ูู:** `development/optimization-phase1`  
โ **ุงููุณุฎุฉ ุงูุฅูุชุงุฌูุฉ ูุญููุฉ ูู:** `main`

### ูุง ุณูุญุฏุซ ุนูุฏ Push:

```
development/optimization-phase1 (branch ุญุงูู)
    โ
    โโ Push โ Vercel ููุดุฑ ุชููุงุฆูุงู ุนูู Preview URL
    โ         ูุซุงู: naebak-xx-git-development-optimization-phase1.vercel.app
    โ
    โโ ูู ูุคุซุฑ ุนูู Production (naebak.com) ุฃุจุฏุงู
```

---

## ๐ ุฎุทุฉ ุงูุนูู ุงูููุชุฑุญุฉ

### ุงูุฎูุงุฑ 1: ุงููุดุฑ ุงูุชููุงุฆู ุนูู Preview (ููุตู ุจู โญ)

**ุงููููุฒุงุช:**
- โ ุงุฎุชุจุงุฑ ุนูู ุจูุฆุฉ ุญููููุฉ ูุทุงุจูุฉ ููุฅูุชุงุฌ
- โ ูุง ูุคุซุฑ ุนูู ุงููููุน ุงูุญุงูู
- โ ุฑุงุจุท ูุดุงุฑูุฉ ูุน ุงููุฑูู ููุงุฎุชุจุงุฑ
- โ ุณูููุฉ ุงูุฑุฌูุน (ูุฌุฑุฏ ุนุฏู ุฏูุฌ ูู main)

**ุงูุฎุทูุงุช:**

1. **Push ุงูุชุบููุฑุงุช ุฅูู GitHub:**
   ```bash
   cd /home/ubuntu/naebak-xx
   git push origin development/optimization-phase1
   ```

2. **Vercel ุณููุดุฑ ุชููุงุฆูุงู ุนูู Preview URL:**
   - ุงูุฑุงุจุท ุณูููู: `naebak-xx-git-development-optimization-phase1-naebaks-projects.vercel.app`
   - ุณุชุญุตู ุนูู ุชูุจูู ูู GitHub

3. **ุงุฎุชุจุงุฑ ุนูู Preview URL:**
   - ุงูุชุญ ุงูุฑุงุจุท
   - ุงุฎุชุจุฑ ุฌููุน ุงููุธุงุฆู ุงูุญุฑุฌุฉ
   - ุฅุฐุง ูู ุดูุก ุชูุงู โ ุงุฏูุฌ ูู main
   - ุฅุฐุง ููู ูุดููุฉ โ ุงุฑุฌุน ูุงุตูุญ

4. **ุงูุฏูุฌ ูู Production (ุจุนุฏ ุงูุชุฃูุฏ):**
   ```bash
   git checkout main
   git merge development/optimization-phase1
   git push origin main
   ```

---

### ุงูุฎูุงุฑ 2: ุงูุงุฎุชุจุงุฑ ุงููุญูู ููุท (ุฃุจุทุฃ)

**ุงููููุฒุงุช:**
- โ ูุง ูุญุชุงุฌ ุฅูุชุฑูุช
- โ ุฃุณุฑุน ูู ุงูุชุทููุฑ

**ุงูุนููุจ:**
- โ ูุฏ ุชุฎุชูู ุงูุจูุฆุฉ ุงููุญููุฉ ุนู ุงูุฅูุชุงุฌ
- โ ูุง ูููู ูุดุงุฑูุฉ ุงูุฑุงุจุท ูุน ุงููุฑูู

**ุงูุฎุทูุงุช:**
1. ุงุฎุชุจุงุฑ ูุญูู: `pnpm dev`
2. ุจุนุฏ ุงูุชุฃูุฏ โ Push ุฅูู main ูุจุงุดุฑุฉ

---

### ุงูุฎูุงุฑ 3: ุฅูุดุงุก Staging Branch (ุงูุฃูุซุฑ ุฃูุงูุงู)

**ุฅูุดุงุก branch staging ูููุตู:**

```bash
# ุฅูุดุงุก staging branch ูู main
git checkout main
git checkout -b staging

# ุฏูุฌ ุงูุชุทููุฑ ูู staging
git merge development/optimization-phase1

# Push ุฅูู GitHub
git push origin staging
```

**ุฅุนุฏุงุฏ Vercel:**
1. ูู ุฅุนุฏุงุฏุงุช Vercel โ Git
2. ุฅุถุงูุฉ `staging` ูู Production Branch ุซุงูู
3. ุฑุจุท domain ูููุตู ูุซู `staging.naebak.com`

**ุงููููุฒุงุช:**
- โ ุจูุฆุฉ staging ูููุตูุฉ ุชูุงูุงู
- โ ุงุฎุชุจุงุฑ ูุงูู ูุจู ุงูุฅูุชุงุฌ
- โ ูููู ูููุฑูู ุงูุงุฎุชุจุงุฑ ุนูููุง

---

## ๐งช ุฎุทุฉ ุงูุงุฎุชุจุงุฑ ุนูู Preview

### ุจุนุฏ ุงููุดุฑ ุนูู Preview URL:

#### 1. ุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุญุฑุฌุฉ (30-45 ุฏูููุฉ)

**ุฃ. ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ:**
```
โ ุงูุชุญ Preview URL
โ ุงุฐูุจ ุฅูู /signup
โ ุณุฌู ูุณุชุฎุฏู ุฌุฏูุฏ
โ ุฃููู ุงูู Onboarding
โ ุชุญูู ูู ุงููุตูู ุฅูู Home
```

**ุจ. ุงูุชุฑููุฉ ุฅูู ูุงุฆุจ:**
```
โ ุณุฌู ุฏุฎูู ูู admin
โ ุงุฐูุจ ุฅูู /app_admin/users
โ ุงุฎุชุฑ ูุณุชุฎุฏู citizen
โ ุงุถุบุท "ุชุฑููุฉ ุฅูู ูุงุฆุจ"
โ ุชุญูู ูู ุธููุฑู ูู /app_admin/deputies
```

**ุฌ. ุงูุชุฑููุฉ ุฅูู ูุฏูุฑ:**
```
โ ุณุฌู ุฏุฎูู ูู admin
โ ุงุฐูุจ ุฅูู /app_admin/users
โ ุงุฎุชุฑ ูุณุชุฎุฏู citizen
โ ุงุถุบุท "ุชุฑููุฉ ุฅูู ูุฏูุฑ"
โ ุชุญูู ูู ุธููุฑู ูู /app_admin/managers
```

#### 2. ุงุฎุชุจุงุฑ ุงูุฃุฏุงุก (10-15 ุฏูููุฉ)

```
โ ุงูุชุญ DevTools (F12)
โ ุงุฐูุจ ุฅูู Network tab
โ Reload ุงูุตูุญุฉ
โ ุชุญูู ูู:
  - ุญุฌู First Load JS (ูุฌุจ ุฃู ูููู ุฃูู)
  - ุนุฏุฏ ุงูุทูุจุงุช (ูุฌุจ ุฃู ูููู ุฃูู)
  - ููุช ุงูุชุญููู (ูุฌุจ ุฃู ูููู ุฃุณุฑุน)
```

#### 3. ุงุฎุชุจุงุฑ Console (5 ุฏูุงุฆู)

```
โ ุงูุชุญ Console ูู DevTools
โ ุชุตูุญ ุงููููุน
โ ุชุญูู ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุญูุฑุงุก
โ ุชุญูู ูู ุนุฏู ูุฌูุฏ warnings ูุซูุฑุฉ
```

---

## ๐ ููุงุฑูุฉ ุงูุฃุฏุงุก

### ูุจู ุงูุชุญุณูู (main):
- First Load JS: ~XXX KB
- Time to Interactive: ~X.X s
- Number of Requests: ~XXX

### ุจุนุฏ ุงูุชุญุณูู (preview):
- First Load JS: ~XXX KB (ูุชููุน: -50KB)
- Time to Interactive: ~X.X s (ูุชููุน: -0.5s)
- Number of Requests: ~XXX (ูุชููุน: -10)

---

## โ Checklist ูุจู ุงูุฏูุฌ ูู Production

- [ ] โ ุฌููุน ุงููุธุงุฆู ุงูุญุฑุฌุฉ ุชุนูู ุนูู Preview
- [ ] โ ูุง ุฃุฎุทุงุก ูู Console
- [ ] โ ุงูุฃุฏุงุก ูุญุณูู ุฃู ุนูู ุงูุฃูู ููุณู
- [ ] โ ุชู ุงุฎุชุจุงุฑ ุนูู ุฃุฌูุฒุฉ ูุฎุชููุฉ (Desktop, Mobile)
- [ ] โ ุชู ุงุฎุชุจุงุฑ ุนูู ูุชุตูุญุงุช ูุฎุชููุฉ (Chrome, Safari, Firefox)
- [ ] โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุชุชุฃุซุฑ
- [ ] โ Environment Variables ุชุนูู
- [ ] โ Build ููุฌุญ ุจุฏูู ุฃุฎุทุงุก

---

## ๐จ ุฎุทุฉ ุงูุทูุงุฑุฆ (Rollback)

### ุฅุฐุง ุญุตูุช ูุดููุฉ ุจุนุฏ ุงูุฏูุฌ ูู Production:

#### ุงูุทุฑููุฉ 1: Instant Rollback ูู Vercel (ุงูุฃุณุฑุน)
```
1. ุงูุชุญ Vercel Dashboard
2. ุงุฐูุจ ุฅูู naebak-xx โ Deployments
3. ุงุฎุชุฑ ุขุฎุฑ deployment ุดุบุงู
4. ุงุถุบุท "Instant Rollback"
โฑ๏ธ ุงูููุช: 10 ุซูุงููุฉ
```

#### ุงูุทุฑููุฉ 2: Git Revert (ุฃูุซุฑ ุฃูุงูุงู)
```bash
# ุงูุฑุฌูุน ูุขุฎุฑ commit ุดุบุงู
git checkout main
git revert HEAD
git push origin main

โฑ๏ธ ุงูููุช: 2-3 ุฏูุงุฆู
```

#### ุงูุทุฑููุฉ 3: Force Push (ุงูุฃุฎูุฑุฉ)
```bash
# ุงูุฑุฌูุน ุจุงูููุฉ ูู commit ูุนูู
git checkout main
git reset --hard <commit-hash-ุดุบุงู>
git push origin main --force

โฑ๏ธ ุงูููุช: 1 ุฏูููุฉ
โ๏ธ ุฎุทุฑ: ูุญุฐู ุงูุชุงุฑูุฎ
```

---

## ๐ฏ ุงูุชูุตูุฉ ุงูููุงุฆูุฉ

**ุฃูุตุญ ุจุงูุฎูุงุฑ 1 (Preview URL):**

1. โ **ุงูุขู:** ุฃููู ุชูููุฐ ุงููุฑุญูุฉ 1 ูุญููุงู
2. โ **ุจุนุฏูุง:** Push ุฅูู `development/optimization-phase1`
3. โ **ุงูุชุธุฑ:** Vercel ููุดุฑ ุนูู Preview (2-3 ุฏูุงุฆู)
4. โ **ุงุฎุชุจุฑ:** ุนูู Preview URL (30-45 ุฏูููุฉ)
5. โ **ุฅุฐุง ุชูุงู:** ุงุฏูุฌ ูู `main`
6. โ **ุฅุฐุง ููู ูุดููุฉ:** ุงุตูุญ ูู ููุณ ุงูู branch ูุฃุนุฏ Push

**ูุฐู ุงูุทุฑููุฉ:**
- โ ุขููุฉ 100% ูููููุน ุงูุญุงูู
- โ ุชุชูุญ ุงุฎุชุจุงุฑ ุญูููู
- โ ุณููุฉ ุงูุฑุฌูุน
- โ ูุง ุชุญุชุงุฌ ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Preview URLs ุชุจูู ูุชุงุญุฉ:** ุญุชู ุจุนุฏ ุงูุฏูุฌ ูู mainุ ููููู ุงูุฑุฌูุน ููุง
2. **Environment Variables:** ุชุฃูุฏ ุฃููุง ููุฌูุฏุฉ ูู Vercel (Supabase keys, etc.)
3. **Database:** Preview ูุณุชุฎุฏู ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ููู ุญุฐุฑุงู ูู ุงูุงุฎุชุจุงุฑ
4. **Caching:** ูุฏ ุชุญุชุงุฌ Clear Cache ูู ุงููุชุตูุญ ููุงุฎุชุจุงุฑ ุงูุตุญูุญ

---

**ูู ุฃูุช ุฌุงูุฒ ููุจุฏุกุ** ๐

ุงูุฎุทูุฉ ุงูุชุงููุฉ:
```bash
# ุจุนุฏ ุงูุชูุงู ุงููุฑุญูุฉ 1 ูุญููุงู
git add .
git commit -m "chore: remove 85 unused dependencies - Phase 1 complete"
git push origin development/optimization-phase1
```
