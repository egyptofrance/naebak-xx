# ๐ ุชุญููู ุงููุถุน ุงูุญุงูู ูุฌุฏูู governorates

## โ ูุง ุชู ุงูุชุดุงูู

### 1. ุญุงูุฉ RLS
- โ **RLS ููุนู:** `rls_enabled = true`
- โ **RLS ุบูุฑ ุฅุฌุจุงุฑู:** `rls_forced = false`

### 2. ุงูุณูุงุณุงุช ุงูููุฌูุฏุฉ ุญุงููุงู

ููุฌุฏ **3 ุณูุงุณุงุช** ุนูู ุฌุฏูู `governorates`:

| ุงุณู ุงูุณูุงุณุฉ | ููุน ุงูุนูููุฉ | ุงูุดุฑุท | ููุงุญุธุงุช |
|---|---|---|---|
| `Anon can view governorates` | SELECT | `true` | ุชุณูุญ ูุฌููุน ุงููุณุชุฎุฏููู ุจุงููุฑุงุกุฉ |
| `Anyone can view governorates` | SELECT | `true` | **ููุฑุฑุฉ** - ููุณ ุงููุธููุฉ |
| `Everyone can view governorates` | SELECT | `true` | **ููุฑุฑุฉ** - ููุณ ุงููุธููุฉ |

### 3. ุงูุณูุงุณุงุช ุงูููููุฏุฉ

โ **ูุง ุชูุฌุฏ ุณูุงุณุฉ UPDATE** - ููุฐู ูู ุงููุดููุฉ ุงูุฑุฆูุณูุฉ!
โ **ูุง ุชูุฌุฏ ุณูุงุณุฉ INSERT**
โ **ูุง ุชูุฌุฏ ุณูุงุณุฉ DELETE**

---

## ๐ฏ ุงููุดููุฉ ุงูุฏูููุฉ

**ุงูุณุจุจ ุงูุฌุฐุฑู:** ุฌุฏูู `governorates` ูุญุชูู ุนูู **3 ุณูุงุณุงุช ูููุฑุงุกุฉ ููุท (SELECT)**ุ ููุง ุชูุฌุฏ ุฃู ุณูุงุณุฉ ุชุณูุญ ุจู **UPDATE**.

**ุงููุชูุฌุฉ:** ุนูุฏูุง ูุญุงูู ุงูุฃุฏูู ุชุญุฏูุซ `is_visible`ุ ูุฑูุถ Supabase ุงูุนูููุฉ ูุฃูู ูุง ุชูุฌุฏ ุณูุงุณุฉ UPDATE.

**ููุงุญุธุฉ ุฅุถุงููุฉ:** ุงูุณูุงุณุงุช ุงูุซูุงุซุฉ ุงูููุฌูุฏุฉ **ููุฑุฑุฉ** (ูููุง ุชูุนู ููุณ ุงูุดูุก)ุ ููุง ูุดูุฑ ุฅูู ุฃูู ุชู ุฅุถุงูุชูุง ูุฏููุงู ุจุดูู ุชุฌุฑูุจู.

---

## โ ุงูุญู ุงููุทููุจ

ูุฌุจ ุฅุถุงูุฉ ุณูุงุณุฉ **UPDATE** ุชุณูุญ ููุฃุฏูู ููุท ุจุชุญุฏูุซ ุงููุญุงูุธุงุช.

**ุงูุดุฑุท ุงููุทููุจ:**
```sql
EXISTS (
  SELECT 1 FROM user_profiles
  WHERE id = auth.uid()
  AND role IN ('super_admin', 'admin')
)
```

---

## ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ

ุฅูุดุงุก SQL ูุถูู **ููุท** ุณูุงุณุฉ UPDATE (ุฏูู ูุญุงููุฉ ุฅุถุงูุฉ ุณูุงุณุงุช ููุฌูุฏุฉ ุจุงููุนู).
